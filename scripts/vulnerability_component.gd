class_name Vulnerability
extends Node

signal vulnerable_again

@export var invulnerability_time: float = 0.3

@export var vulnerable: bool = true:
	set = set_vulnerability


func _on_invulnerability_end() -> void:
	vulnerable = true
	vulnerable_again.emit()


func set_vulnerability(new_value) -> void:
	vulnerable = new_value
	if not vulnerable:
		var timer: SceneTreeTimer = get_tree().create_timer(invulnerability_time, false)
		timer.timeout.connect(_on_invulnerability_end)
